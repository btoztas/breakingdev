{% extends "calendarapp/blank.html" %}


{% load i18n staticfiles %}

{% block head_title %}{% trans "Fullcalendar" %}{% endblock %}

{% block tab_id %}id="home_tab"{% endblock %}

{% block extra_head %}
    <script type="text/javascript" src="{% static 'schedule.js' %}"></script>
    <link rel='stylesheet' type='text/css' href="{% static 'fullcalendar/dist/fullcalendar.css' %}"/>
    <script type='text/javascript' src="{% static 'moment/moment.js' %}"></script>
    <script type='text/javascript' src="{% static 'fullcalendar/dist/fullcalendar.js' %}"></script>
    <script>
        function checkAddress(checkbox) {


            if (!checkbox.checked) {
                var event={ id: 1 , title: 'New event', start:  new Date()};
                $('#calendar').fullCalendar( 'renderEvent', event, true);
            }else{
                
                $('#calendar').fullCalendar( 'removeEvent', 1);
            }


        }
    </script>
{% endblock %}

{% block body %}
    <div class="card mb-3">
        <div class="card-header">
            <i class="fa fa-area-chart"></i> Calend√°rio
            <table>
                <tr>
                    <td>
                        <div class="e1Div">
                            <input type="checkbox" checked="checked" name="e1" id="e1" onchange="checkAddress(this)"/>
                            <label for=" e1">Event Type 1</label>
                        </div>
                    </td>
                </tr>

            </table>

        </div>
        <div class="card-body">
            <div id="calendar"></div>
            <script type='text/javascript'>
                $(document).ready(function () {

                    // page is now ready, initialize the calendar...
                    $('#calendar').fullCalendar({
                        eventClick: function (event, element) {

                            event.title = "CLICKED!";

                            $('#calendar').fullCalendar('updateEvent', event);

                        },
                        eventLimit: true, // for all non-agenda views
                        views: {
                            agenda: {
                                eventLimit: 6 // adjust to 6 only for agendaWeek/agendaDay
                            }
                        },
                        customButtons: {
                            myCustomButton: {
                                text: 'Change Degrees',
                                click: function () {
                                    alert('clicked the custom button!');
                                }
                            }
                        },
                        header: {
                            left: 'prev,next',
                            center: 'title',
                            right: 'month,agendaWeek'
                        },
                        // put your options and callbacks here
                        events: ('/schedule/api/occurrences?calendar_slug[]=MEEC')

                    })


                });
            </script>
        </div>
        <!--<div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>-->
    </div>
{% endblock %}
